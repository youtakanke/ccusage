# CCUsage GUI

CCUsage の美しいmacOS用GUIアプリケーションです。ライブモニタリングと各種レポート機能を直感的なインターフェースで利用できます。

## 🎯 主な機能

### 📊 レポート機能

- **日次レポート**: Claude Codeの日次トークン使用量とコスト
- **月次レポート**: 月次集計レポート
- **セッション別レポート**: 会話セッション別の使用量
- **ブロック別レポート**: 5時間の請求ウィンドウ別の使用量

### 📡 ライブモニタリング

- リアルタイムでの使用量監視
- 自動更新（5秒間隔）
- 開始/停止の簡単な制御

### ⚙️ 便利なオプション

- 日付範囲フィルター（開始日〜終了日）
- JSON出力対応
- モデル別コスト内訳表示

## 🚀 使用方法

### 1. アプリケーションの起動

#### 開発モード

```bash
npm run gui:dev
```

#### 本番モード

```bash
npm run gui
```

### 2. インターフェースの使い方

1. **サイドバーから機能を選択**

   - 📊 日次レポート
   - 📈 月次レポート
   - 💬 セッション別
   - 🧱 ブロック別
   - 📡 ライブモニタリング

2. **オプションを設定**

   - 開始日・終了日を指定（YYYYMMDD形式）
   - JSON出力やモデル別内訳をチェックボックスで選択

3. **実行ボタンをクリック**
   - 通常レポート: 「実行」ボタン
   - ライブモニタリング: 「ライブ開始」ボタン

### 3. ライブモニタリングの使用方法

1. サイドバーから「📡 ライブモニタリング」を選択
2. 「ライブ開始」ボタンをクリック
3. リアルタイムで使用量が表示されます
4. 停止するには「停止」ボタンをクリック

## 📦 ビルドとパッケージング

### 開発用パッケージ

```bash
npm run gui:pack
```

### 配布用DMGファイル作成

```bash
npm run gui:build
```

作成されるファイル:

- `dist-electron/CCUsage-15.1.0.dmg` (Intel Mac用)
- `dist-electron/CCUsage-15.1.0-arm64.dmg` (Apple Silicon Mac用)

## 🎨 デザイン特徴

- **macOSネイティブ**: macOSの設計ガイドラインに準拠
- **モダンUI**: グラデーション背景とガラスモーフィズム効果
- **レスポンシブ**: ウィンドウサイズに応じて最適化
- **ダークテーマ**: ターミナル出力用のダークテーマ
- **アニメーション**: スムーズなトランジション効果

## 🔧 技術仕様

- **フレームワーク**: Electron
- **UI**: HTML5 + CSS3 + JavaScript
- **アーキテクチャ**: メインプロセス + レンダラープロセス
- **IPC通信**: Electronの`ipcMain`/`ipcRenderer`を使用
- **対応OS**: macOS (Intel & Apple Silicon)

## 📝 開発者向け情報

### ファイル構成

```
gui/
├── main.cjs         # Electronメインプロセス（CommonJS）
├── index.html       # UIレイアウト
└── renderer.cjs     # レンダラープロセス（UI制御・CommonJS）
```

### 主要なIPC通信

- `run-daily`: 日次レポート実行
- `run-monthly`: 月次レポート実行
- `run-session`: セッション別レポート実行
- `run-blocks`: ブロック別レポート実行
- `run-blocks-live`: ライブモニタリング実行

## 🐛 トラブルシューティング

### アプリが起動しない場合

1. 必要な依存関係がインストールされているか確認
2. `npm run build`でCLIツールがビルドされているか確認
3. macOSのセキュリティ設定を確認

### データが表示されない場合

1. Claude Codeの使用履歴ファイルが存在するか確認
2. ファイルの権限を確認
3. コンソールでエラーメッセージを確認（開発者ツール）

## 🎉 今後の予定

- [ ] 設定画面の追加
- [ ] テーマカスタマイズ機能
- [ ] エクスポート機能の強化
- [ ] 通知機能
- [ ] グラフ表示機能

---

**Enjoy using CCUsage GUI! 🚀**
